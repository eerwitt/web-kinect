!!!
%html
  %head
    %title KinectWeb
    %script{:src => "https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js", :type => "text/javascript"}
    %script{:src => "/javascripts/web-socket-js/swfobject.js", :type => "text/javascript"}
    %script{:src => "/javascripts/web-socket-js/web_socket.js", :type => "text/javascript"}
    :javascript
      WEB_SOCKET_SWF_LOCATION = "/javascripts/web-socket-js/WebSocketMain.swf";

      // Write your code in the same way as for native WebSocket:
      var ws = new WebSocket("ws://localhost:3000/echo");
      ws.onopen = function() {
        debugger
        ws.send("Hello");  // Sends a message.
      };
      ws.ondata = function(e) {
        alert(e);
      };
      ws.onmessage = function(e) {
        // Receives a message.
        alert(e.data);
      };
      ws.onclose = function() {
        alert("closed");
      }; 
      ws.onerror = function() {
        alert("error");
      };

      $(document).ready(function() {
        $("#send").click(function() {
          ws.send("BLAH");
          return false;
        });
      });
  %body
    %p works
    %a#send{:href => "#"} Test
